CREATE DATABASE LogoLogo;

USE LogoLogo;

CREATE TABLE categoria (
    id_cat INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(15) NOT NULL
);

CREATE TABLE subcategoria (
    id_subcat INT AUTO_INCREMENT PRIMARY KEY,
    nome_subcat VARCHAR(30) NOT NULL,
    id_cat INT NOT NULL,
    FOREIGN KEY (id_cat) REFERENCES categoria(id_cat)
);

CREATE TABLE produto (
    id_produto INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(30) NOT NULL,
    descricao VARCHAR(30),
    preco NUMERIC(5, 2) NOT NULL,
    cor VARCHAR(15),
    estoque INT NOT NULL,
    id_cat INT NOT NULL,
    tamanho VARCHAR(50),
    FOREIGN KEY (id_cat) REFERENCES categoria(id_cat),
);

CREATE TABLE cliente (
    id_cli INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    email VARCHAR(60) NOT NULL UNIQUE,
    cep CHAR(8) NOT NULL,
    endereco VARCHAR(40) NOT NULL,
    bairro VARCHAR(30) NOT NULL,
    cidade VARCHAR(30) NOT NULL,
    estado VARCHAR(15) NOT NULL,
    telefone CHAR(11) NOT NULL
);

CREATE TABLE pedido (
    id_pedido INT AUTO_INCREMENT PRIMARY KEY,
    data_pedido DATETIME NOT NULL,
    id_cli INT NOT NULL,
    total_pedido NUMERIC(5, 2) NOT NULL,
    FOREIGN KEY (id_cli) REFERENCES cliente(id_cli)
);

CREATE TABLE item_pedido (
    id_item INT AUTO_INCREMENT PRIMARY KEY,
    quantidade INT NOT NULL,
    id_pedido INT NOT NULL,
    id_produto INT NOT NULL,
    FOREIGN KEY (id_pedido) REFERENCES pedido(id_pedido),
    FOREIGN KEY (id_produto) REFERENCES produto(id_produto)
);
